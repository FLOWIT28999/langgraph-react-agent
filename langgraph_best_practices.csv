Category,Rule,Description,Recommendation
State Management,Immutability of State,LangGraph 상태는 불변성을 유지해야 하며 리듀서를 통해 업데이트되어야 합니다.,상태를 직접 수정하지 말고 새로운 객체나 Annotated 및 리듀서 함수를 사용하세요.
Graph Topology,Explicit Exit Conditions,모든 순환 구조(Cycle)에는 명확한 종료 조건이 있어야 합니다.,무한 루프 방지를 위해 recursion_limit을 설정하고 에지 로직에서 END 노드로의 경로를 보장하세요.
Node Design,Single Responsibility Nodes,각 노드는 하나의 작업(예: 도구 실행 또는 응답 생성)만 수행해야 합니다.,노드가 너무 비대해지지 않도록 복잡한 로직은 서브 그래프나 여러 개의 노드로 분리하세요.
Error Handling,Graceful Degradation,LLM 호출이나 도구 실행 실패 시 그래프가 멈추지 않아야 합니다.,노드 내부에 try-except 문을 구성하고 오류 발생 시 'error' 상태를 업데이트하여 전용 오류 처리 노드로 보내세요.
Prompt Engineering,System Message Versioning,에이전트의 역할과 지침은 버전별로 관리되어야 합니다.,시스템 프롬프트에 구체적인 제약 사항(Constraints)과 출력 형식을 명시하고 f-string 대신 템플릿 변수를 활용하세요.
Tool Integration,Output Parsing Validation,도구의 실행 결과가 상태(State)의 스키마와 일치하는지 확인해야 합니다.,Pydantic 등을 활용하여 도구 응답의 유효성을 검사하고 노드에서 상태로 데이터를 옮길 때 데이터 타입을 엄격히 준수하세요.
Conditional Edges,Deterministic Routing,조건부 에지는 가능한 모든 시나리오를 처리해야 합니다.,if-else 문에서 처리되지 않는 케이스가 없도록 'default' 경로를 반드시 설정하세요.
Persistence,Checkpointer Utilization,긴 대화나 복구 가능성이 필요한 경우 체크포인터를 사용해야 합니다.,MemorySaver 또는 외부 DB 연동 체크포인터를 사용하여 대화 상태를 저장하고 특정 시점으로의 'Time Travel' 기능을 고려하세요.